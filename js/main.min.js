"use strict";document.addEventListener("DOMContentLoaded",function(){var e=window.innerHeight,t=0,n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=/Mobi/.test(navigator.userAgent);n&&!o&&(t=window.outerHeight-window.innerHeight),o&&(e=window.screen.availHeight,t=(window.screen.availHeight-window.innerHeight)/2);var i,a,c=function(e,n,o,i){var a=e.top/n-t;o[i].style.top=a+"px"},s=function(n,o){for(var i=0;n.length>i;i++){var a=n[i].parentElement.parentElement.getBoundingClientRect(),s=n[i].parentElement.parentElement.offsetTop,r=(e-a.height)/2,l=e>a.height+s?a.height+s-s/o:a.height+2*(r-r/o);n[i].style.height=l+2*t+"px",c(a,o,n,i)}};function r(){document.querySelector(".menu-icon").classList.remove("_active"),document.querySelector(".menu__list").classList.remove("_active"),document.body.classList.remove("_menu")}function l(){var e=document.querySelector(".social").querySelector(".social__body");document.body.classList.contains("_menu")&&r(),e.classList.remove("_active"),document.body.classList.remove("_socials")}i=function(e){1==e&&document.querySelector("body").classList.add("webp")},(a=new Image).onload=a.onerror=function(){i(2==a.height)},a.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",function(){for(var e=document.querySelectorAll("._bg"),t=0;t<e.length;t++)e[t].querySelector("img")&&(e[t].style.backgroundImage="url("+e[t].querySelector("img").getAttribute("src")+")")}(),function(){document.addEventListener("touchstart",function(n){var o=function(e){return e.touches||e.originalEvent.touches}(n)[0];t=o.clientX,e=o.clientY}),document.addEventListener("touchmove",function(n){if(t&&e){var o=n.touches[0].clientX,i=n.touches[0].clientY,a=t-o,c=e-i;Math.abs(a)>Math.abs(c)&&a>0&&(document.body.classList.contains("_menu")&&r(),document.body.classList.contains("_socials")&&l()),t=null,e=null}});var e=null,t=null}(),(new function(){var t=function(t,n){n<1&&(n=1),s(t,n),o||window.addEventListener("resize",function(){e=window.innerHeight,s(t,n)}),window.addEventListener("scroll",function(){!function(t,n){for(var o=0;t.length>o;o++){var i=t[o].parentElement.parentElement.getBoundingClientRect();i.top+i.height>=0&&i.top<=e&&c(i,n,t,o)}}(t,n)})};this.init=function(e){void 0===e&&(e={}),e={speed:void 0!==e.speed?e.speed:1.5,className:void 0!==e.className?e.className:"parallax"};for(var n=document.getElementsByClassName(e.className),o=0;n.length>o;o++){var i=document.createElement("div");n[o].parentNode.insertBefore(i,n[o]),i.appendChild(n[o]);var a=n[o].parentElement;a.className+="parallax__container","relative"!==window.getComputedStyle(a.parentElement,null).getPropertyValue("position")&&(a.parentElement.style.position="relative");var c=n[o].dataset.parallaxImage;void 0!==c&&(n[o].style.backgroundImage="url("+c+")",1===n[o].classList.length&&"parallax"===n[o].classList[0]&&(n[o].style.backgroundRepeat="no-repeat",n[o].style.backgroundPosition="center",n[o].style.backgroundSize="cover"))}document.addEventListener("readystatechange",function(o){"complete"===o.target.readyState&&t(n,e.speed)})}}).init({speed:4}),document.querySelector(".menu-icon").addEventListener("click",function(){document.body.classList.contains("_menu")?r():(document.body.classList.contains("_socials")&&l(),document.querySelector(".menu-icon").classList.add("_active"),document.querySelector(".menu__list").classList.add("_active"),document.body.classList.add("_menu"))}),document.querySelector(".header .social__img").addEventListener("click",function(){var e;document.body.classList.contains("_socials")?l():(e=document.querySelector(".social").querySelector(".social__body"),document.body.classList.contains("_menu")&&r(),e.classList.add("_active"),document.body.classList.add("_socials"))});var d,u,m=document.querySelector("header .city");function v(){m.classList.remove("_active"),m.querySelector("ul").style.maxHeight=""}d=m.querySelector("a._active"),u=m.querySelector("span"),d&&u&&(u.textContent=d.textContent),m.addEventListener("click",function(e){m.classList.contains("_active")?v():function(){m.classList.add("_active");var e=m.querySelector("ul");e.style.maxHeight=e.scrollHeight+"px"}()}),window.addEventListener("click",function(e){m.classList.contains("_active")&&!m.contains(e.target)&&v()}),function(){var e=document.querySelector(".header").cloneNode(!0);e.classList.add("_copy");var t=document.querySelector(".wrapper");function n(){if(window.innerWidth>=768)if(window.pageYOffset>300){if(t.children[0]===e)return;t.prepend(e)}else e.remove()}n(),window.addEventListener("scroll",n);var o=window.matchMedia("screen and (min-width: 768px)");function i(t){!t.matches&&e?e.remove():n()}i(o),o.addEventListener("change",i)}()});